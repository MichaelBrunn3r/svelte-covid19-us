import{S as t,i as a,s,e,t as r,a as n,c as o,b as c,d as l,f as i,g as h,h as u,j as f,k as v,l as d,u as m,n as $,m as p,o as E,p as T,q as g,r as b,v as D,w as y,x as S,y as w,z as I,A as _,B as N,C as x,D as C,E as B,F as V,G as k,H as O,I as j,J as H}from"./client.3c41574f.js";import{r as U,S as L,C as P}from"./TableFilter.380e7556.js";var A={number:function(t){return null==t?"unknown":t.toLocaleString()}};function F(t,a,s){const e=t.slice();return e[1]=a[s],e}function R(t,a){let s,m,$,p,E,T,g,b,D,y,S,w,I,_,N,x=a[1].name+"",C=A.number(a[1].cases)+"",B=A.number(a[1].deaths)+"",V=A.number(a[1].tested)+"";return{key:t,first:null,c(){s=e("tr"),m=e("td"),$=e("a"),p=r(x),T=n(),g=e("td"),b=r(C),D=n(),y=e("td"),S=r(B),w=n(),I=e("td"),_=r(V),N=n(),this.h()},l(t){s=o(t,"TR",{});var a=c(s);m=o(a,"TD",{});var e=c(m);$=o(e,"A",{href:!0});var r=c($);p=l(r,x),r.forEach(i),e.forEach(i),T=h(a),g=o(a,"TD",{});var n=c(g);b=l(n,C),n.forEach(i),D=h(a),y=o(a,"TD",{});var u=c(y);S=l(u,B),u.forEach(i),w=h(a),I=o(a,"TD",{});var f=c(I);_=l(f,V),f.forEach(i),N=h(a),a.forEach(i),this.h()},h(){u($,"href",E=a[1].abbrev),this.first=s},m(t,a){f(t,s,a),v(s,m),v(m,$),v($,p),v(s,T),v(s,g),v(g,b),v(s,D),v(s,y),v(y,S),v(s,w),v(s,I),v(I,_),v(s,N)},p(t,a){1&a&&x!==(x=t[1].name+"")&&d(p,x),1&a&&E!==(E=t[1].abbrev)&&u($,"href",E),1&a&&C!==(C=A.number(t[1].cases)+"")&&d(b,C),1&a&&B!==(B=A.number(t[1].deaths)+"")&&d(S,B),1&a&&V!==(V=A.number(t[1].tested)+"")&&d(_,V)},d(t){t&&i(s)}}}function q(t){let a,s,d,E,T,g,b,D,y,S,w,I,_,N,x,C,B,V,k=[],O=new Map,j=t[0];const H=t=>t[1].abbrev;for(let a=0;a<j.length;a+=1){let s=F(t,j,a),e=H(s);O.set(e,k[a]=R(e,s))}return{c(){a=e("div"),s=e("div"),d=e("table"),E=e("thead"),T=e("tr"),g=e("th"),b=r("State"),D=n(),y=e("th"),S=r("Cases"),w=n(),I=e("th"),_=r("Deaths"),N=n(),x=e("th"),C=r("Total Tested"),B=n(),V=e("tbody");for(let t=0;t<k.length;t+=1)k[t].c();this.h()},l(t){a=o(t,"DIV",{class:!0});var e=c(a);s=o(e,"DIV",{class:!0});var r=c(s);d=o(r,"TABLE",{class:!0});var n=c(d);E=o(n,"THEAD",{});var u=c(E);T=o(u,"TR",{});var f=c(T);g=o(f,"TH",{});var v=c(g);b=l(v,"State"),v.forEach(i),D=h(f),y=o(f,"TH",{});var m=c(y);S=l(m,"Cases"),m.forEach(i),w=h(f),I=o(f,"TH",{});var $=c(I);_=l($,"Deaths"),$.forEach(i),N=h(f),x=o(f,"TH",{});var p=c(x);C=l(p,"Total Tested"),p.forEach(i),f.forEach(i),u.forEach(i),B=h(n),V=o(n,"TBODY",{});var O=c(V);for(let t=0;t<k.length;t+=1)k[t].l(O);O.forEach(i),n.forEach(i),r.forEach(i),e.forEach(i),this.h()},h(){u(d,"class","table is-bordered is-striped svelte-1gth0ew"),u(s,"class","container"),u(a,"class","section svelte-1gth0ew")},m(t,e){f(t,a,e),v(a,s),v(s,d),v(d,E),v(E,T),v(T,g),v(g,b),v(T,D),v(T,y),v(y,S),v(T,w),v(T,I),v(I,_),v(T,N),v(T,x),v(x,C),v(d,B),v(d,V);for(let t=0;t<k.length;t+=1)k[t].m(V,null)},p(t,[a]){if(1&a){const s=t[0];k=m(k,a,H,1,t,s,O,V,p,R,null,F)}},i:$,o:$,d(t){t&&i(a);for(let t=0;t<k.length;t+=1)k[t].d()}}}function z(t,a,s){let{states:e}=a;return t.$$set=t=>{"states"in t&&s(0,e=t.states)},[e]}class G extends t{constructor(t){super(),a(this,t,z,q,s,{states:0})}}function J(t){let a,s,d,m,p,y,S,w,I,_,N,x,C,B,V,k,O,j,H;return{c(){a=e("div"),s=e("div"),d=e("div"),m=e("div"),p=e("input"),y=n(),S=e("div"),w=e("div"),I=e("select"),_=e("option"),N=r("By State Name"),x=e("option"),C=r("Cases"),B=e("option"),V=r("Deaths"),k=e("option"),O=r("Tested"),this.h()},l(t){a=o(t,"DIV",{class:!0});var e=c(a);s=o(e,"DIV",{class:!0});var r=c(s);d=o(r,"DIV",{class:!0});var n=c(d);m=o(n,"DIV",{class:!0});var u=c(m);p=o(u,"INPUT",{type:!0,placeholder:!0,class:!0}),u.forEach(i),y=h(n),S=o(n,"DIV",{class:!0});var f=c(S);w=o(f,"DIV",{class:!0});var v=c(w);I=o(v,"SELECT",{class:!0});var $=c(I);_=o($,"OPTION",{value:!0});var E=c(_);N=l(E,"By State Name"),E.forEach(i),x=o($,"OPTION",{value:!0});var T=c(x);C=l(T,"Cases"),T.forEach(i),B=o($,"OPTION",{value:!0});var g=c(B);V=l(g,"Deaths"),g.forEach(i),k=o($,"OPTION",{value:!0});var b=c(k);O=l(b,"Tested"),b.forEach(i),$.forEach(i),v.forEach(i),f.forEach(i),n.forEach(i),r.forEach(i),e.forEach(i),this.h()},h(){u(p,"type","text"),u(p,"placeholder","Filter States"),u(p,"class","input svelte-1kxsyjm"),u(m,"class","column is-6 svelte-1kxsyjm"),_.__value="abbrev",_.value=_.__value,x.__value="cases",x.value=x.__value,B.__value="deaths",B.value=B.__value,k.__value="tested",k.value=k.__value,u(I,"class","svelte-1kxsyjm"),void 0===t[1]&&E((()=>t[3].call(I))),u(w,"class","select svelte-1kxsyjm"),u(S,"class","column is-6 svelte-1kxsyjm"),u(d,"class","columns"),u(s,"class","container"),u(a,"class","section")},m(e,r){f(e,a,r),v(a,s),v(s,d),v(d,m),v(m,p),T(p,t[0]),v(d,y),v(d,S),v(S,w),v(w,I),v(I,_),v(_,N),v(I,x),v(x,C),v(I,B),v(B,V),v(I,k),v(k,O),g(I,t[1]),j||(H=[b(p,"input",t[2]),b(I,"change",t[3])],j=!0)},p(t,[a]){1&a&&p.value!==t[0]&&T(p,t[0]),2&a&&g(I,t[1])},i:$,o:$,d(t){t&&i(a),j=!1,D(H)}}}function M(t,a,s){let{stateName:e=""}=a,{sortBy:r="abbrev"}=a;return t.$$set=t=>{"stateName"in t&&s(0,e=t.stateName),"sortBy"in t&&s(1,r=t.sortBy)},[e,r,function(){e=this.value,s(0,e)},function(){r=y(this),s(1,r)}]}class W extends t{constructor(t){super(),a(this,t,M,J,s,{stateName:0,sortBy:1})}}function Y(t){let a,s,e,r,o,c;function l(a){t[4].call(null,a)}function u(a){t[5].call(null,a)}let v={};return void 0!==t[0]&&(v.stateName=t[0]),void 0!==t[1]&&(v.sortBy=t[1]),a=new W({props:v}),S.push((()=>w(a,"stateName",l))),S.push((()=>w(a,"sortBy",u))),o=new G({props:{states:t[2]}}),{c(){I(a.$$.fragment),r=n(),I(o.$$.fragment)},l(t){_(a.$$.fragment,t),r=h(t),_(o.$$.fragment,t)},m(t,s){N(a,t,s),f(t,r,s),N(o,t,s),c=!0},p(t,[r]){const n={};!s&&1&r&&(s=!0,n.stateName=t[0],x((()=>s=!1))),!e&&2&r&&(e=!0,n.sortBy=t[1],x((()=>e=!1))),a.$set(n);const c={};4&r&&(c.states=t[2]),o.$set(c)},i(t){c||(C(a.$$.fragment,t),C(o.$$.fragment,t),c=!0)},o(t){B(a.$$.fragment,t),B(o.$$.fragment,t),c=!1},d(t){V(a,t),t&&i(r),V(o,t)}}}function K(t,a,s){let e,{data:r}=a,n="",o="abbrev";return t.$$set=t=>{"data"in t&&s(3,r=t.data)},t.$$.update=()=>{11&t.$$.dirty&&s(2,e=function(t,a,s){const e=t.filter((t=>""===a||t.name.toLowerCase().startsWith(a.toLowerCase())));return"name"!==s?e.sort(((t,a)=>+a[s]-+t[s])):e}(r,n,o))},[n,o,e,r,function(t){n=t,s(0,n)},function(t){o=t,s(1,o)}]}class Q extends t{constructor(t){super(),a(this,t,K,Y,s,{data:3})}}function X(t){let a,s,d,m,$,p,E,T,g,b,D,y;const S=[t[0]];let w={};for(let t=0;t<S.length;t+=1)w=k(w,S[t]);return E=new L({props:w}),g=new P({props:{historicData:t[1],title:"US Convid-19"}}),D=new Q({props:{data:t[2]}}),{c(){a=n(),s=e("div"),d=e("div"),m=e("h1"),$=r("Covid 19 US"),p=n(),I(E.$$.fragment),T=n(),I(g.$$.fragment),b=n(),I(D.$$.fragment),this.h()},l(t){O('[data-svelte="svelte-uwrdu2"]',document.head).forEach(i),a=h(t),s=o(t,"DIV",{class:!0});var e=c(s);d=o(e,"DIV",{class:!0});var r=c(d);m=o(r,"H1",{});var n=c(m);$=l(n,"Covid 19 US"),n.forEach(i),r.forEach(i),e.forEach(i),p=h(t),_(E.$$.fragment,t),T=h(t),_(g.$$.fragment,t),b=h(t),_(D.$$.fragment,t),this.h()},h(){document.title="Covid-19 US Tracker",u(d,"class","container"),u(s,"class","section header")},m(t,e){f(t,a,e),f(t,s,e),v(s,d),v(d,m),v(m,$),f(t,p,e),N(E,t,e),f(t,T,e),N(g,t,e),f(t,b,e),N(D,t,e),y=!0},p(t,[a]){const s=1&a?j(S,[H(t[0])]):{};E.$set(s);const e={};2&a&&(e.historicData=t[1]),g.$set(e);const r={};4&a&&(r.data=t[2]),D.$set(r)},i(t){y||(C(E.$$.fragment,t),C(g.$$.fragment,t),C(D.$$.fragment,t),y=!0)},o(t){B(E.$$.fragment,t),B(g.$$.fragment,t),B(D.$$.fragment,t),y=!1},d(t){t&&i(a),t&&i(s),t&&i(p),V(E,t),t&&i(T),V(g,t),t&&i(b),V(D,t)}}}async function Z(){try{const t=await U.usStats(),a=await U.historicUS();return{usStats:t,historic:a,statesTableData:await U.statesData()}}catch(t){return void this.error(500,t)}}function tt(t,a,s){let{usStats:e}=a,{historic:r}=a,{statesTableData:n}=a;return t.$$set=t=>{"usStats"in t&&s(0,e=t.usStats),"historic"in t&&s(1,r=t.historic),"statesTableData"in t&&s(2,n=t.statesTableData)},[e,r,n]}export default class extends t{constructor(t){super(),a(this,t,tt,X,s,{usStats:0,historic:1,statesTableData:2})}}export{Z as preload};
